#
# Postfix master process configuration file.  For details on the format
# of the file, see the master(5) manual page (command: "man 5 master").
#
# ==========================================================================
# service type  private unpriv  chroot  wakeup  maxproc command + args
#               (yes)   (yes)   (yes)   (never) (100)
# ==========================================================================
<% @settings.sort_by{|k,v| v['order']}.map do |service, properties| -%>
<%  next if !properties['active'] -%>
<%  if properties.has_key?('comment') -%>
#<%=   properties['comment'] %>
<%  end -%>
<%= service %>	<%= properties['type'] -%>
<%  if properties.has_key?('private') -%>
<%   if properties['private'] -%>
<%=   '	y' -%>
<%   else -%>
<%=   '	n' -%>
<%   end -%>
<%  else -%>
<%=  '	-' -%>
<%  end -%>
<%  if properties.has_key?('unpriv') -%>
<%   if properties['unpriv'] -%>
<%=   '	y' -%>
<%   else -%>
<%=   '	n' -%>
<%   end -%>
<%  else -%>
<%=  '	-' -%>
<%  end -%>
<%  if properties.has_key?('chroot') -%>
<%   if properties['chroot'] -%>
<%=   '	y' -%>
<%   else -%>
<%=   '	n' -%>
<%   end -%>
<%  else -%>
<%=  '	-' -%>
<%  end -%>
<%  if properties.has_key?('wakeup') -%>
	<%= properties['wakeup'] -%>
<%  else -%>
<%=  '	-' -%>
<%  end -%>
<%  if properties.has_key?('maxproc') -%>
	<%= properties['maxproc'] -%>
<%  else -%>
<%=  '	-' -%>
<%  end -%>
	<%= properties['command'] %>
<%  properties['args'].each do |arg| -%>
  <%= arg %>
<%  end -%>
<% end -%>
